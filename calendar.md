### Project Plan: Cyber Escape Room Development

This plan outlines the development of the Cyber Escape Room project in Python, structured chronologically across phases. It accounts for a team of 3: **Supervisor** (you: oversight, architecture, integration, and demo prep), **Apprentice Dev 1** (focus: Rooms 2-3, parsing-heavy tasks), and **Apprentice Dev 2** (focus: Rooms 4-5, algorithm-heavy tasks). Total timeline: **10 working days** (~2 weeks), allowing for iterative testing and buffer time. Prioritize must-haves (engine, REPL, per-room tokens) before extras like advanced hints.

Daily stand-ups (15 mins) recommended for sync; use Git for PRs/merges. Supervisor reviews all code before merging.

| Phase | Main Tasks | Assignee(s) | Dependencies | Estimate | Intermediate Deliverables |
|-------|------------|-------------|--------------|----------|---------------------------|
| **1. Setup & Structure (Day 1)** | - Create Git repo with .gitignore (ignore data/, __pycache__, etc.).<br>- Set up folder structure (escape.py, escaperoom/, rooms/, data/).<br>- Draft initial README.md with overview, setup, and team roles.<br>- Copy provided data files to data/ and manual sanity-check (e.g., grep auth.log).<br>- Initialize GameState dataclass and Room ABC in base.py. | Supervisor (lead); Both Apprentices (assist with structure) | None | 0.5 day | Cloneable repo; Basic README; Functional skeleton (run escape.py without crash). |
| **2. Game Engine (Days 1-2)** | - Implement engine.py: REPL loop, command routing (look, move, inspect, use, inventory, hint, save/load, quit).<br>- Add transcript.py for logging to run.txt (timestamps, exact formats, e.g., [Room X] Parsing...).<br>- Build utils.py for helpers (e.g., parse_ip, load_jsonl).<br>- Test basic REPL: Intro navigation, empty inventory, JSON save/load. | Supervisor | Phase 1 | 1 day | Executable escape.py with mock REPL (no puzzles); Generated transcript; Command `python escape.py --start intro --transcript run.txt` works. |
| **3. Intro Room & Navigation (Day 2)** | - Implement Room 1 (intro.py or in engine): Descriptions, doors (soc, dns, vault, malware, final), mock items.<br>- Add commands: look (room desc), move <room>, inventory (tokens/items set), quit (close and log).<br>- Handle errors (e.g., invalid move).<br>- End-to-end test: Free navigation, transcript matches example. | Supervisor | Phase 2 | 0.5 day | Full interactive REPL for intro; look/move output as in example. |
| **4. Rooms 2-3: SOC & DNS (Days 3-4)** | - **Day 3: Room 2 (soc.py)**: Parse auth.log (Failed password lines), group by /24 with dict, tolerate malformed (count skipped), extract L and COUNT for TOKEN[KEYPAD]. Log exact EVIDENCE. Test with data/auth.log.<br>- **Day 4: Room 3 (dns.py)**: Parse dns.cfg (strip #/spaces), base64 decode hint1..N, match decoded_line for token. Log EVIDENCE. Unit tests on decode func. | Apprentice Dev 1 (lead); Supervisor (review/PR) | Phases 1-3; data/ | 1 day per room | Tokens produced (e.g., TOKEN[KEYPAD]=4217); inspect <file> full log; 80% test coverage (pytest). |
| **5. Rooms 4-5: Vault & Malware (Days 5-7)** | - **Day 5: Room 4 (vault.py)**: Regex for SAFE{a-b-c}, multiline match, validate a+b==c. Log EVIDENCE. Test regex on vault_dump.txt.<br>- **Days 6-7: Room 5 (malware.py)**: Read proc_tree.jsonl, build graph (ppid->children dict), DFS/BFS from start PID, find path to curl/scp. Log PATH/CMD. Handle cycles/JSON errors. Test on mock paths. | Apprentice Dev 2 (lead); Supervisor (review/PR) | Phases 1-4; data/ | 1 day (Vault); 2 days (Malware, more complex) | SAFE and PID tokens; use <item> adds to inventory/tokens; Independent graph func tests. |
| **6. Final Gate & Integration (Day 8)** | - Implement final_gate (in engine or dedicated room): Read final_gate.txt for order/group_id/HMAC, concat tokens (group_id|token1-...), output MSG and EXPECTED_HMAC.<br>- Add check: If all tokens, "gate opens" (PENDING for demo).<br>- Integrate use gate: List collected tokens, fail if incomplete.<br>- Full integration test across rooms. | Supervisor (lead); Both Apprentices (bug fixes) | Phases 1-5; All tokens | 1 day | Complete run: All rooms -> final; Transcript with FINAL_GATE=PENDING, MSG; Mock HMAC match. |
| **7. Testing, Polish & Demo (Days 9-10)** | - Tests: Unit per room (e.g., pytest on parse_log), end-to-end (auto-play script).<br>- Polish: Docstrings, type hints, PEP8 (black/flake8), error handling (warnings for malformed).<br>- Update README: Run instructions, architecture, pitfalls.<br>- Prep demo: Video of full run + Q&A script (e.g., explain DFS vs BFS). | All (parallel); Supervisor (final review/demo lead) | All phases | 1 day (tests); 1 day (doc/demo) | Validated final run.txt; >70% coverage; Submit-ready repo; Demo script (e.g., command sequence). |

#### General Guidelines
- **Tools**: VSCode/PyCharm for linting; Git for daily commits/PRs (e.g., "feat: soc parser" by Apprentice 1).
- **Pitfalls to Avoid**: No hardcoding (use real data/); Test edge cases (empty lines, invalid JSON); Keep REPL to listed commands only.
- **Resources**: Refer to provided skeleton; Python docs for regex/base64.
- **Tracking**: Use Trello/Notion for task check-offs; Supervisor merges PRs.

